import numpy as np
import argparse
from scipy.spatial import distance
import time

if __name__ == "__main__":

	parser = argparse.ArgumentParser(description = "Nearest Neighbor Similarity Queries")

	parser.add_argument('-q', nargs=32, type=float, help = "query vector q", required=True)

	args = parser.parse_args()

	start = time.time()

	data = np.loadtxt('ColorHistogram-test.asc', dtype=float, usecols=range(1,33))

	min = float('inf')

	for index, x in enumerate(data):
		d = distance.euclidean(x,args.q)
		if min > d:
			min = d
			p_index = index

	end = time.time()
	elapsedTime = end - start

	print 'Nearest neighbor image ID', p_index

	print 'Running time in seconds', elapsedTime
